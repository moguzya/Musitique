<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
<ui:composition>
    <h:form class = "side-menu-main">
        <p:panel>
            <div class="speeddial-circle-demo" style="position: relative; height: 100px">
                <p:speedDial direction="right" hideIcon= "true" buttonStyleClass="ui-button-warning profile-button">
                    <!--            <p:menuitem icon="pi pi-pencil" action="#{userController.createAccount}"/>-->
                    <!--            <p:menuitem icon="pi pi-refresh" action="#{userController.logout}"/>-->
                    <!--            <p:menuitem icon="pi pi-upload" url="https://www.primefaces.org"/>-->
                    <!--            <p:menuitem icon="pi pi-external-link" url="https://www.primefaces.org"/>-->
                    <!-- Menu Options IF a User is Signed In -->
                    <c:if test="#{userController.isLoggedIn() == true}">
                        <p:menuitem icon="pi pi-pencil" outcome="/userAccount/Profile" value ="Profile">
                            <!--                    <p:graphicImage cache="false" styleClass="smallProfilePhoto" value="#{userController.userPhoto()}" />-->
                            <!--                    &nbsp;My Account-->
                        </p:menuitem>

                        <p:menuitem icon="fas fa-sign-out-alt" value="Sign Out" action="#{userController.logout()}"  />
                        &nbsp;
                    </c:if>

                    <!-- Menu Options IF No User is Signed In -->
                    <c:if test="#{!userController.isLoggedIn()}">
                        <p:menuitem icon="fas fa-sign-in-alt" value="Sign In" outcome="/SignIn"  />
                        &nbsp;
                        <p:menuitem icon="fas fa-user-plus"  value="Create Account" outcome="/userAccount/CreateAccount" />
                        &nbsp;
                    </c:if>
                </p:speedDial>
            </div>
            <div class="side-menu-main">
                <p:inputText style="width:100%" id="search" type="text" placeholder="Search"/>
                <p:menu style="width:100%">
                    <p:menuitem value="New Releases" icon="fas fa-fire"
                                outcome="/newReleases/NewReleases.xhtml"/>

                    <c:if test="#{userController.isLoggedIn() == true}">
                        <p:menuitem value="Followed Artists" icon="fas fa-list"/>
                    </c:if>
                    <p:menuitem value="Explore" icon="fas fa-compass"/>
                </p:menu>
            </div>


        </p:panel>


    </h:form>

    <h:panelGroup id="iframe-holder" layout="block">
        <iframe src="#{spotifyPlayerController.embedURL}" width="100%" height="100%" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </h:panelGroup>

    <!--            <f:facet name="footer">-->
    <div class="side-menu-bottom">

        <div align="center">
            <a href="${pageContext.request.contextPath}/Musitique/">
                <p:graphicImage cache="false" styleClass="siteLogo" value="#{resource['images:musitiqueLogo.png']}"/>
            </a>
            &nbsp;
        </div>
    </div>
    <!--            </f:facet>-->

</ui:composition>
</html>
